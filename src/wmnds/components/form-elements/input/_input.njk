{% macro wmndsInput(params) %}

{# Imports #}
{% from "wmnds/components/form-elements/label/_label.njk" import wmndsLabel %}
{% from "wmnds/components/form-elements/error-message/_error-message.njk" import wmndsFeErrorMessage %}

{# Params #}
{% set id = params.id if params.id else "input" %}
{% set label = params.label if params.label else "Input Label" %}
{% set paramClass = " " + params.classNames if params.classNames %} {# set paramClass to params.classNames if any #}
{% set type = params.type if params.type else "text" %}
{% set groupErrorClass = " wmnds-fe-group--error" if params.error %}
{% set errorClass = " wmnds-fe-input--error" if params.error %}
{# Error Message Params #}
{% set errorContentText = params.errorMessage.contentText if params.errorMessage.contentText else "Please enter a value" %}
{% set errorContentHTML = params.errorMessage.contentHTML if params.errorMessage.contentHTML else null %}
{% set errorClasses = " " + params.errorMessage.classes if params.errorMessage.classes else null %}
{% set errorId = params.errorMessage.id if params.errorMessage.id else null %}

<div class="wmnds-fe-group{{groupErrorClass}}">
  {{
    wmndsLabel({
      label: label,
      for: id
    }) 
  }}
  {% if params.error -%}
    {{
      wmndsFeErrorMessage(
        {
          contentText: errorContentText,
          contentHTML: errorContentHTML,
          classes: errorClasses,
          id: errorId
        }
      )
    }}
  {% endif -%}
  <input class="wmnds-fe-input{{errorClass}}{{paramClass}}" id="{{id}}" name="{{id}}" type="{{type}}"/>
</div>

{% endmacro %}
