{% macro wmndsContentCardTravelUpdates(params) %}
{# imports #}
{% from "wmnds/components/content-card/_content-card.njk" import wmndsContentCard %}
{% from "wmnds/components/disruption-indicator/large/_large.njk" import wmndsDisruptionIndicatorLarge as largeDisruption %}
{% from "wmnds/components/disruption-indicator/medium/_medium.njk" import wmndsDisruptionIndicatorMedium as mediumDisruption %}
{% from "wmnds/components/disruption-indicator/small/_small.njk" import wmndsDisruptionIndicatorSmall as smallDisruption %}
{% from "wmnds/components/link/link/_link.njk" import wmndsLink %}
{% from "wmnds/components/icon/_icon.njk" import wmndsIcon %}
{% from "wmnds/components/button/_button.njk" import wmndsButton %}
{% from "wmnds/components/message/help/_help.njk" import wmndsMsgHelp %}
{# Set #}
{% set disruptions = [
    {
        mode: "bus",
        title: "Bus",
        severityClass: "wmnds-disruption-indicator-medium--error",
        text: "Hamstead - Birmingham via Hockley",
        statusIcon: "general-warning-triangle",
        status: [
            "2 major disruptions",
            "8 minor disruptions"
        ]
    },
    {
        mode: "rail",
        title: "Train",
        severityClass: "wmnds-disruption-indicator-medium--success",
        text: "Hamstead - Birmingham via Hockley",
        statusIcon: "general-success",
        status: [
            "Good service"
        ]
    },
    {
        mode: "metro",
        title: "Tram",
        severityClass: "wmnds-disruption-indicator-medium--error",
        text: "Hamstead - Birmingham via Hockley",
        statusIcon: "general-warning-triangle",
        status: [
            "Major disruption"
        ]
    },
    {
        mode: "roads",
        title: "Roads",
        severityClass: "wmnds-disruption-indicator-medium--warning",
        text: "Hamstead - Birmingham via Hockley",
        statusIcon: "general-warning-circle",
        status: [
            "3 minor disruptions"
        ]
    }
] %}
{% set buses = ["9", "10", "12", "12A", "13", "13A", "126", "X8", "X10", "23"] %}

{% call wmndsContentCard({ classes: "wmnds-content-card--travel-updates"}) %}
    <div class="wmnds-p-sm wmnds-col-1">
        <h2 class="wmnds-content-card__title">Travel updates</h2>
        
        {% for disruption in disruptions %}
        <div class="wmnds-travel-update wmnds-grid wmnds-grid--spacing-3-md">
            <div class="wmnds-col-sm-1-2 wmnds-col-1">
                <div class="wmnds-travel-update__disruption">
                    {{
                        mediumDisruption({
                            iconLeft: "modes-isolated-" + disruption.mode,
                            iconRight: disruption.statusIcon,
                            classes: disruption.severityClass
                        })
                    }}
                    <h3 class="wmnds-m-none">{{ disruption.title | capitalize }}</h3>
                </div>
            </div>
            <div class="wmnds-col-sm-1-2 wmnds-col-1 wmnds-travel-update__status">
            {% for text in disruption.status %}
            {% if text === "Good service"%}
                <strong>{{text}}</strong>
            {% else %}
                <div>
                    {{
                        wmndsLink({
                            contentText: text
                        })
                    }}
                </div>
            {% endif %}
            {% endfor %}
            </div>
        </div>
        <hr>
        {% endfor %}
        
        <div class="wmnds-grid wmnds-grid--spacing-sm-2-lg wmnds-p-t-md">
            <div class="wmnds-col-1 wmnds-col-sm-1-2">
                {{
                    wmndsButton({
                        classes: "wmnds-btn--block wmnds-m-b-md",
                        type: "mode",
                        contentText: "Add services",
                        iconRight: "general-expand"
                    })
                }}
            </div>
            <div class="wmnds-col-1 wmnds-col-sm-1-2">
                {{
                    wmndsButton({
                        classes: "wmnds-btn--block",
                        contentText: "View all updates",
                        iconRight: "general-chevron-right"
                    })
                }}
            </div>
        </div>
    </div>
{% endcall %}

{% call wmndsContentCard({ classes: "wmnds-content-card--travel-updates"}) %}
    <div class="wmnds-p-sm wmnds-col-1">
        <h2 class="wmnds-content-card__title">My travel updates</h2>
        
        <div class="wmnds-travel-update wmnds-travel-update--personal">
            <input type="checkbox" id="collapse" class="wmnds-travel-update__disruption-collapse-toggle">
            <label for="collapse" class="wmnds-travel-update__disruption-collapse-btn">
                <h3 class="wmnds-m-none">Bus</h3>
                {{
                    wmndsIcon({
                        icon: "general-chevron-right"
                    })
                }}
            </label>
            <div class="wmnds-travel-update__disruption">
                {{
                    mediumDisruption({
                        iconLeft: "modes-isolated-bus",
                        iconRight: "general-warning-circle",
                        contentText: "16",
                        classes: "wmnds-disruption-indicator-medium--warning"
                    })
                }}
                <div class="wmnds-travel-update__disruption-text">
                    <strong>Hamstead - Birmingham via Hockley</strong>
                    {{
                        wmndsLink({
                            contentText: "Minor disruption"
                        })
                    }}
                </div>
            </div>
            <div class="wmnds-travel-update__disruption">
                {{  
                    mediumDisruption({
                        iconLeft: "modes-isolated-bus",
                        iconRight: "general-success",
                        contentText: "S16",
                        classes: "wmnds-disruption-indicator-medium--success"
                    })
                }}
                <div class="wmnds-travel-update__disruption-text">
                    <strong>Solihull - Yardley via Lyndon</strong>
                    <strong>Good service</strong>
                </div>
            </div>
        </div>
        <hr>

        <div class="wmnds-travel-update wmnds-travel-update--personal">
            <input type="checkbox" id="collapse-train" class="wmnds-travel-update__disruption-collapse-toggle">
            <label for="collapse-train" class="wmnds-travel-update__disruption-collapse-btn">
                <h3 class="wmnds-m-none">Train</h3>
                {{
                    wmndsIcon({
                        icon: "general-chevron-right"
                    })
                }}
            </label>
            <div class="wmnds-travel-update__disruption">
                {{
                    mediumDisruption({
                        iconLeft: "modes-isolated-rail",
                        iconRight: "general-warning-circle",
                        contentText: "Cross City line",
                        classes: "wmnds-disruption-indicator-medium--warning"
                    })
                }}
                <div class="wmnds-travel-update__disruption-text">
                    {{
                        wmndsLink({
                            contentText: "Minor disruption"
                        })
                    }}
                </div>
            </div>
            <div class="wmnds-travel-update__disruption">
                {{  
                    mediumDisruption({
                        iconLeft: "modes-isolated-rail",
                        iconRight: "general-success",
                        contentText: "Hereford via Worcester",
                        classes: "wmnds-disruption-indicator-medium--success"
                    })
                }}
                <div class="wmnds-travel-update__disruption-text">
                    <strong>Good service</strong>
                </div>
            </div>
        </div>
        <hr>
        
        <div class="wmnds-grid wmnds-grid--spacing-sm-2-lg wmnds-p-t-md">
            <div class="wmnds-col-1 wmnds-col-sm-1-2">
                {{
                    wmndsButton({
                        classes: "wmnds-btn--block wmnds-m-b-md",
                        type: "mode",
                        contentText: "Edit your services"
                    })
                }}
            </div>
            <div class="wmnds-col-1 wmnds-col-sm-1-2">
                {{
                    wmndsButton({
                        classes: "wmnds-btn--block",
                        contentText: "View all updates",
                        iconRight: "general-chevron-right"
                    })
                }}
            </div>
        </div>
    </div>
{% endcall %}

{% endmacro %}
