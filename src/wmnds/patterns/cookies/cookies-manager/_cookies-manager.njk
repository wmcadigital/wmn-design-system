{% macro wmndsCookiesManager(params) %}

{# Imports of components #}
{% from "wmnds/components/form-elements/checkboxes/_checkboxes.njk" import wmndsCheckboxes %}
{% from "wmnds/components/button/_button.njk" import wmndsButton %}
{% from "wmnds/components/message/summary/_summary.njk" import wmndsMsgSummary %}

{% set successMessageStyling = "" if params.showSuccessMessage else "display: none" %}


<div class="wmnds-p-md wmnds-cookies-manager">
  <div class="wmnds-container wmnds-col-1 wmnds-col-sm-1 wmnds-col-lg-3-4">
    <h1 class="wmnds-p-t-lg wmnds-m-b-lg">Manage Cookies</h1>
    <div class="wmnds-cookies-manager__success-message wmnds-m-b-md" style="{{successMessageStyling}}">
      {{
        wmndsMsgSummary({
          type: 'success-fill',
          title: 'Your cookie settings were saved',
          contentHTML: '<p>You can change these settings at any time by clicking the link in the page footer.</p>
            <p class="wmnds-cookies-manager__previous-page">
              <a class="wmnds-link wmnds-cookies-manager__previous-page" href="" style="color: white">Go back to the page you were looking at</a>
            </p>'
        })
      }}
    </div>
    <form class="wmnds-cookies-manager__form" action="#">
      <p class="wmnds-m-b-md">
        Check your settings below and select the cookies you’re happy with.
      </p>
      <p>
        These settings only apply to wmnetwork.co.uk
      </p>
      <div class="wmnds-cookies-manager__preferences wmnds-p-b-md wmnds-p-t-md">
        {{
          wmndsCheckboxes({
            classes: "wmnds-m-none",
            question: "",
            hint: {
              contentText: " "
            },
            items: [
              {
                checked: true,
                disabled: true,
                id: 'essential-cookies',
                name: 'essential-cookies',
                titleText: 'Essential cookies',
                contentText: 'Without these cookies our website won’t work properly. They help you to access secure areas like accounts and tools such as the journey planner.'
              },
              {
                checked: false,
                id: 'functional-cookies',
                name: 'functional-cookies',
                titleText: 'Functional cookies',
                contentText: 'These cookies help us to personalise our services to suit your needs, like saving your favourite transport services.'
              },
              {
                checked: false,
                id: 'performance-cookies',
                name: 'performance-cookies',
                titleText: 'Performance cookies',
                contentText: 'These cookies collect information about how you’re using our services, for instance popular pages or errors. We use this information to make decisions when improving our services. We do not use any information collected to identify you as an individual.'
              }
            ]
          })
        }}
      </div>
      <div>
      {{
        wmndsButton({
          classses: "wmnds-cookies-manager__save-preferences wmnds-col-1 wmnds-col-sm-1 wmnds-col-md-12-24",
          contentText: "Save preferences",
          role: "submit"
        })
      }}
      </div>
      <div class="wmnds-m-t-lg">
        <p>If you change your mind, <a href="">visit our Policies page</a> to change your cookie preferences.</p>
      </div>
    </form>
  </div>
</div>
{% endmacro %}
